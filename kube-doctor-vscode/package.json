{
  "name": "kube-doctor",
  "displayName": "Kube Doctor",
  "description": "Kubernetes cluster diagnostics tools for GitHub Copilot — bypasses MCP policy restrictions",
  "version": "0.3.0",
  "publisher": "patnel87",
  "engines": {
    "vscode": "^1.99.0"
  },
  "categories": [
    "AI",
    "Other"
  ],
  "keywords": [
    "kubernetes",
    "k8s",
    "diagnostics",
    "copilot",
    "devops",
    "fluxcd",
    "gitops"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "extensionDependencies": [
    "github.copilot-chat"
  ],
  "contributes": {
    "languageModelTools": [
      {
        "name": "kube-doctor_listNamespaces",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListNamespaces",
        "displayName": "List Kubernetes Namespaces",
        "modelDescription": "List all Kubernetes namespaces in the current cluster with their status and age. Use this when the user asks about namespaces, wants to know what's in the cluster, or needs to pick a namespace to investigate.",
        "userDescription": "List all namespaces in the Kubernetes cluster.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server-environment)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_listNodes",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListNodes",
        "displayName": "List Kubernetes Nodes",
        "modelDescription": "List all nodes with status, roles, version, CPU/memory capacity, and conditions like MemoryPressure or DiskPressure. Use when checking cluster capacity or node health.",
        "userDescription": "List Kubernetes cluster nodes with health status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_listContexts",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListContexts",
        "displayName": "List Kubernetes Contexts",
        "modelDescription": "List all kubeconfig contexts showing which clusters are configured and which is currently active. Use when the user wants to see available clusters or check which cluster they are connected to.",
        "userDescription": "List all available kubeconfig contexts.",
        "canBeReferencedInPrompt": true,
        "icon": "$(list-tree)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_clusterInfo",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeClusterInfo",
        "displayName": "Get Cluster Info",
        "modelDescription": "Get a high-level summary of the current Kubernetes cluster: context name, server URL, node count, namespace count, and pod/service counts across the cluster. Use when the user asks 'what cluster am I on' or wants an overview.",
        "userDescription": "Get a summary of the current Kubernetes cluster.",
        "canBeReferencedInPrompt": true,
        "icon": "$(info)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_getNodeDetail",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetNodeDetail",
        "displayName": "Get Node Detail",
        "modelDescription": "Get detailed information about a specific Kubernetes node including conditions, capacity, allocatable resources, labels, taints, system info, and pods running on it. Use when investigating a specific node's health or configuration.",
        "userDescription": "Get detailed info about a specific Kubernetes node.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Node name"
            }
          },
          "required": [
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_listPods",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListPods",
        "displayName": "List Kubernetes Pods",
        "modelDescription": "List pods in a Kubernetes namespace with their status, restarts, age, and node placement. Use when the user asks about pods, wants to see what's running, or needs to find a specific pod. Set namespace to empty string for all namespaces.",
        "userDescription": "List pods in a Kubernetes namespace with status details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server-process)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            },
            "labelSelector": {
              "type": "string",
              "description": "Optional label selector (e.g. app=nginx)"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_getPodLogs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetPodLogs",
        "displayName": "Get Kubernetes Pod Logs",
        "modelDescription": "Get logs from a Kubernetes pod container. Supports tail lines, previous container logs (for crash loops), and container selection for multi-container pods. Use when investigating application errors, crashes, or debugging pod behavior.",
        "userDescription": "Retrieve logs from a Kubernetes pod.",
        "canBeReferencedInPrompt": true,
        "icon": "$(output)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Pod name"
            },
            "container": {
              "type": "string",
              "description": "Container name (required for multi-container pods)"
            },
            "tailLines": {
              "type": "number",
              "description": "Number of lines from end (default 100)"
            },
            "previous": {
              "type": "boolean",
              "description": "Get logs from previously terminated container"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_getPodDetail",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetPodDetail",
        "displayName": "Get Pod Detail",
        "modelDescription": "Get comprehensive detail about a specific pod: phase, conditions, container statuses (ready/state/restart count), resource requests/limits, volumes, labels, annotations, and recent events. Use when you need full detail about a specific pod without running a diagnosis.",
        "userDescription": "Get detailed information about a specific Kubernetes pod.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server-process)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Pod name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_getEvents",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetEvents",
        "displayName": "Get Kubernetes Events",
        "modelDescription": "Get Kubernetes events optionally filtered by namespace, involved object name, or event type (Normal/Warning). Use when investigating issues, checking for warnings, or understanding what happened to a resource.",
        "userDescription": "Get Kubernetes cluster events with optional filters.",
        "canBeReferencedInPrompt": true,
        "icon": "$(bell)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Namespace (empty for all)"
            },
            "eventType": {
              "type": "string",
              "description": "Normal or Warning"
            },
            "involvedObject": {
              "type": "string",
              "description": "Filter by object name"
            }
          }
        }
      },
      {
        "name": "kube-doctor_listDeployments",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListDeployments",
        "displayName": "List Kubernetes Deployments",
        "modelDescription": "List deployments in a namespace showing desired/ready/available replicas and conditions. Use when the user asks about deployments, rollout status, or workload health.",
        "userDescription": "List Kubernetes deployments with replica status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(layers)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_getDeploymentDetail",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetDeploymentDetail",
        "displayName": "Get Deployment Detail",
        "modelDescription": "Get detailed information about a specific deployment: strategy, replicas, conditions, labels, annotations, container specs, and associated ReplicaSets. Use when investigating a specific deployment's configuration or rollout status.",
        "userDescription": "Get detailed info about a specific Kubernetes deployment.",
        "canBeReferencedInPrompt": true,
        "icon": "$(layers)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Deployment name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_listStatefulSets",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListStatefulSets",
        "displayName": "List StatefulSets",
        "modelDescription": "List StatefulSets in a namespace with desired/ready replicas, update strategy, and age. Use when the user asks about stateful workloads like databases, queues, or other StatefulSet-managed applications.",
        "userDescription": "List Kubernetes StatefulSets with replica status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(database)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listDaemonSets",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListDaemonSets",
        "displayName": "List DaemonSets",
        "modelDescription": "List DaemonSets in a namespace with desired/current/ready counts and node selector. Use when the user asks about per-node workloads like log collectors, monitoring agents, or CNI plugins.",
        "userDescription": "List Kubernetes DaemonSets with scheduling status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(broadcast)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listJobs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListJobs",
        "displayName": "List Jobs",
        "modelDescription": "List Jobs in a namespace with completions, status (Running/Complete/Failed), duration, and age. Use when the user asks about batch workloads, CronJob runs, or one-off tasks.",
        "userDescription": "List Kubernetes Jobs with completion status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(tasklist)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listServices",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListServices",
        "displayName": "List Kubernetes Services",
        "modelDescription": "List services in a namespace with type, cluster IP, ports, and selectors. Use when investigating networking, service discovery, or connectivity issues.",
        "userDescription": "List Kubernetes services in a namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(globe)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listIngresses",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListIngresses",
        "displayName": "List Ingresses",
        "modelDescription": "List Ingresses in a namespace showing hosts, paths, backends, TLS configuration, and ingress class. Use when investigating external access, routing, or TLS configuration for services.",
        "userDescription": "List Kubernetes Ingresses with routing details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(globe)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_getEndpoints",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetEndpoints",
        "displayName": "Get Service Endpoints",
        "modelDescription": "Get the endpoints (backing pod IPs and ports) for a specific Kubernetes service. Use when investigating why a service has no endpoints, checking if pods are correctly selected, or debugging connectivity.",
        "userDescription": "Get endpoints for a Kubernetes service.",
        "canBeReferencedInPrompt": true,
        "icon": "$(plug)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Service name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_listPVCs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListPVCs",
        "displayName": "List PersistentVolumeClaims",
        "modelDescription": "List PersistentVolumeClaims in a namespace showing status (Bound/Pending/Lost), capacity, storage class, access modes, and volume name. Use when investigating storage issues, pending PVCs, or checking storage allocation.",
        "userDescription": "List PersistentVolumeClaims with status details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(file-binary)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listPVs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListPVs",
        "displayName": "List PersistentVolumes",
        "modelDescription": "List all PersistentVolumes in the cluster showing capacity, access modes, reclaim policy, status, storage class, and bound claim. Use when investigating cluster storage, unbound volumes, or storage capacity.",
        "userDescription": "List PersistentVolumes in the cluster.",
        "canBeReferencedInPrompt": true,
        "icon": "$(file-binary)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_getNodeMetrics",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetNodeMetrics",
        "displayName": "Get Node Metrics",
        "modelDescription": "Get real-time CPU and memory usage for all nodes from the Kubernetes metrics API. Shows current usage, capacity, and utilization percentage. Requires metrics-server to be installed. Use when checking node resource pressure or capacity planning.",
        "userDescription": "Get real-time CPU and memory usage for cluster nodes.",
        "canBeReferencedInPrompt": true,
        "icon": "$(dashboard)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_getPodMetrics",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetPodMetrics",
        "displayName": "Get Pod Metrics",
        "modelDescription": "Get real-time CPU and memory usage for pods in a namespace from the Kubernetes metrics API. Shows per-container resource consumption. Requires metrics-server. Use when checking which pods are consuming the most resources.",
        "userDescription": "Get real-time CPU and memory usage for pods.",
        "canBeReferencedInPrompt": true,
        "icon": "$(dashboard)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_topResourceConsumers",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeTopResourceConsumers",
        "displayName": "Top Resource Consumers",
        "modelDescription": "Find the top CPU and memory consuming pods in a namespace or cluster-wide, sorted by usage. Requires metrics-server. Use when investigating resource pressure, noisy neighbors, or capacity issues.",
        "userDescription": "Find top CPU and memory consuming pods.",
        "canBeReferencedInPrompt": true,
        "icon": "$(graph)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            },
            "sortBy": {
              "type": "string",
              "description": "Sort by 'cpu' or 'memory' (default: cpu)"
            },
            "limit": {
              "type": "number",
              "description": "Number of top consumers to return (default: 10)"
            }
          }
        }
      },
      {
        "name": "kube-doctor_analyzeResourceAllocation",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeAnalyzeResourceAllocation",
        "displayName": "Analyze Resource Allocation",
        "modelDescription": "Analyze CPU and memory requests/limits allocation across pods in a namespace. Shows total requested vs allocatable, over-provisioned and under-provisioned pods, and generates a Mermaid chart. Use when investigating resource efficiency or capacity planning.",
        "userDescription": "Analyze resource allocation efficiency in a namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(graph)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listLimitRanges",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListLimitRanges",
        "displayName": "List LimitRanges",
        "modelDescription": "List LimitRanges in a namespace showing default requests/limits, min/max constraints per resource type (Container, Pod, PVC). Use when investigating why pods are getting default resource values or being rejected.",
        "userDescription": "List LimitRanges with default and constraint details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(ruler)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_checkResourceQuotas",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeCheckResourceQuotas",
        "displayName": "Check Resource Quotas",
        "modelDescription": "Check ResourceQuota usage in a namespace. Shows used vs hard limits for each resource with usage percentages. Warns at 80% and critical at 90%. Use when investigating why resources cannot be created or checking quota headroom.",
        "userDescription": "Check ResourceQuota usage with threshold warnings.",
        "canBeReferencedInPrompt": true,
        "icon": "$(ruler)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. 'all' for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listCRDs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListCRDs",
        "displayName": "List Custom Resource Definitions",
        "modelDescription": "List all CRDs in the cluster with group, served versions, scope (Namespaced/Cluster), and age. Optionally filter by API group. Use when exploring what custom resources are installed (e.g., checking for Flux, Istio, cert-manager).",
        "userDescription": "List Custom Resource Definitions in the cluster.",
        "canBeReferencedInPrompt": true,
        "icon": "$(extensions)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "groupFilter": {
              "type": "string",
              "description": "Optional filter by API group (e.g. 'fluxcd', 'cert-manager')"
            }
          }
        }
      },
      {
        "name": "kube-doctor_getAPIResources",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetAPIResources",
        "displayName": "Get API Resources",
        "modelDescription": "List all API resources available in the cluster with their API group, whether they are namespaced, and supported verbs. Optionally filter by group. Use when exploring cluster capabilities or checking if specific APIs are available.",
        "userDescription": "List available Kubernetes API resources.",
        "canBeReferencedInPrompt": true,
        "icon": "$(list-flat)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "groupFilter": {
              "type": "string",
              "description": "Optional filter by API group"
            }
          }
        }
      },
      {
        "name": "kube-doctor_listWebhookConfigs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListWebhookConfigs",
        "displayName": "List Webhook Configurations",
        "modelDescription": "List all MutatingWebhookConfigurations and ValidatingWebhookConfigurations with their endpoints, failure policies, timeouts, and matching rules. Warns about webhooks with failurePolicy=Fail. Use when debugging admission issues or slow API responses.",
        "userDescription": "List admission webhook configurations.",
        "canBeReferencedInPrompt": true,
        "icon": "$(shield)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_diagnosePod",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeDiagnosePod",
        "displayName": "Diagnose Kubernetes Pod",
        "modelDescription": "Run comprehensive diagnostics on a specific pod. Checks container states, events, restart reasons, resource limits, node conditions, and fetches logs from failing containers. Use this as the PRIMARY tool when investigating a specific pod problem — it combines multiple checks into one call.",
        "userDescription": "Run full diagnostics on a Kubernetes pod.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Pod name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseNamespace",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeDiagnoseNamespace",
        "displayName": "Diagnose Kubernetes Namespace",
        "modelDescription": "Health check an entire namespace. Finds unhealthy pods, failing deployments, pending PVCs, warning events, high restart counts, and resource pressure. Use this as the PRIMARY tool when the user asks about the health of a namespace or wants a broad status check.",
        "userDescription": "Run health diagnostics on a Kubernetes namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseCluster",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeDiagnoseCluster",
        "displayName": "Diagnose Kubernetes Cluster",
        "modelDescription": "Cluster-wide health check. Checks all node conditions, pod phase summary across all namespaces, warning events, kube-system health, and overall resource utilization. Use this when the user asks about cluster health, overall status, or wants a high-level view of problems.",
        "userDescription": "Run cluster-wide health diagnostics.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_findUnhealthyPods",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeFindUnhealthyPods",
        "displayName": "Find Unhealthy Kubernetes Pods",
        "modelDescription": "Find all pods that are not healthy — CrashLoopBackOff, ImagePullBackOff, Pending, Error, OOMKilled, etc. Can filter by namespace or search cluster-wide. Use when the user asks about problems, errors, or wants to find what's broken.",
        "userDescription": "Find all unhealthy pods in the cluster or namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(warning)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Namespace (empty for all namespaces)"
            }
          }
        }
      },
      {
        "name": "kube-doctor_listNetworkPolicies",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListNetworkPolicies",
        "displayName": "List Kubernetes Network Policies",
        "modelDescription": "List network policies with pod selectors, ingress/egress rule counts, and policy details. Use when investigating network segmentation, traffic restrictions, or pod connectivity issues.",
        "userDescription": "List network policies in a Kubernetes namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(shield)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listHPAs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListHPAs",
        "displayName": "List Horizontal Pod Autoscalers",
        "modelDescription": "List HPAs in a namespace showing target reference, min/max/current replicas, metric targets, and conditions. Use when investigating autoscaling behavior, replica counts, or scaling issues.",
        "userDescription": "List Horizontal Pod Autoscalers with scaling details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(arrow-both)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listPDBs",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListPDBs",
        "displayName": "List Pod Disruption Budgets",
        "modelDescription": "List PodDisruptionBudgets in a namespace showing minAvailable, maxUnavailable, current/expected pods, and allowed disruptions. Warns when disruptions are blocked. Use when investigating drain failures or disruption protection.",
        "userDescription": "List Pod Disruption Budgets with disruption status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(shield)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_analyzePodConnectivity",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeAnalyzePodConnectivity",
        "displayName": "Analyze Pod Network Connectivity",
        "modelDescription": "Analyze network connectivity for a specific pod by matching its labels against all network policies. Produces a Mermaid flowchart showing allowed and denied traffic. Use when debugging why a pod cannot reach another service or is unreachable.",
        "userDescription": "Analyze network connectivity for a Kubernetes pod with Mermaid diagram.",
        "canBeReferencedInPrompt": true,
        "icon": "$(plug)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "podName": {
              "type": "string",
              "description": "Pod name to analyze"
            }
          },
          "required": [
            "namespace",
            "podName"
          ]
        }
      },
      {
        "name": "kube-doctor_analyzePodSecurity",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeAnalyzePodSecurity",
        "displayName": "Analyze Pod Security Posture",
        "modelDescription": "Analyze security posture of a pod. Checks SecurityContext at pod and container level: root user, privilege escalation, capabilities, readOnlyRootFilesystem, hostNetwork/PID/IPC, seccomp profile. Returns severity-tagged findings and suggested hardening actions.",
        "userDescription": "Analyze the security configuration of a Kubernetes pod.",
        "canBeReferencedInPrompt": true,
        "icon": "$(lock)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "podName": {
              "type": "string",
              "description": "Pod name to analyze"
            }
          },
          "required": [
            "namespace",
            "podName"
          ]
        }
      },
      {
        "name": "kube-doctor_listRBACBindings",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeListRBACBindings",
        "displayName": "List RBAC Bindings",
        "modelDescription": "List RoleBindings and ClusterRoleBindings for a namespace, showing binding name, scope, role reference, subject kind/name/namespace. Optionally filter by subject name. Use when auditing permissions or investigating access issues.",
        "userDescription": "List RBAC role bindings with subject details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(key)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "subjectFilter": {
              "type": "string",
              "description": "Optional filter by subject name (case-insensitive)"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_auditNamespaceSecurity",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeAuditNamespaceSecurity",
        "displayName": "Audit Namespace Security",
        "modelDescription": "Comprehensive security audit of a namespace. Checks network policies, PDBs, pod security contexts (privileged/root), RBAC bindings, and resource quotas. Produces a score (0-100), grade (A-F), findings, and a Mermaid policy coverage diagram. Use when assessing namespace security posture.",
        "userDescription": "Run a security audit on a Kubernetes namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(shield)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_getWorkloadDependencies",
        "tags": [
          "kubernetes",
          "kube-doctor"
        ],
        "toolReferenceName": "kubeGetWorkloadDependencies",
        "displayName": "Get Workload Dependencies",
        "modelDescription": "Map all dependencies for a Deployment, StatefulSet, or Pod: ConfigMaps, Secrets, PVCs, ServiceAccounts from volumes and env. Finds matching Services. Returns a Mermaid dependency graph. Use when understanding what a workload depends on or investigating missing configuration.",
        "userDescription": "Map all dependencies for a Kubernetes workload with Mermaid graph.",
        "canBeReferencedInPrompt": true,
        "icon": "$(type-hierarchy)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "workloadName": {
              "type": "string",
              "description": "Name of the workload"
            },
            "workloadKind": {
              "type": "string",
              "description": "Deployment, StatefulSet, or Pod (default: Deployment)"
            }
          },
          "required": [
            "namespace",
            "workloadName"
          ]
        }
      },
      {
        "name": "kube-doctor_listFluxKustomizations",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeListFluxKustomizations",
        "displayName": "List Flux Kustomizations",
        "modelDescription": "List FluxCD Kustomizations in a namespace showing source reference, path, health status, last applied revision, and suspended state. Use when investigating Flux GitOps reconciliation status or checking what is deployed via Flux.",
        "userDescription": "List FluxCD Kustomizations with reconciliation status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(git-merge)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listFluxHelmReleases",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeListFluxHelmReleases",
        "displayName": "List Flux Helm Releases",
        "modelDescription": "List FluxCD HelmReleases in a namespace showing chart name, version, health status, remediation config, and suspended state. Use when checking Helm-based deployments managed by Flux.",
        "userDescription": "List FluxCD HelmReleases with chart and status details.",
        "canBeReferencedInPrompt": true,
        "icon": "$(package)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listFluxSources",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeListFluxSources",
        "displayName": "List Flux Sources",
        "modelDescription": "List all FluxCD source objects: GitRepositories, OCIRepositories, HelmRepositories, HelmCharts, and Buckets. Shows type, URL, revision, and health status. Optionally filter by source type. Use when checking source sync status or debugging fetch failures.",
        "userDescription": "List FluxCD source objects with sync status.",
        "canBeReferencedInPrompt": true,
        "icon": "$(repo)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            },
            "sourceType": {
              "type": "string",
              "description": "Filter by source type: git, oci, helm, helmchart, bucket (optional)"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_listFluxImagePolicies",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeListFluxImagePolicies",
        "displayName": "List Flux Image Policies",
        "modelDescription": "List FluxCD ImageRepositories and ImagePolicies showing scanned images, latest tags, and policy rules. Use when investigating Flux image automation and auto-update configuration.",
        "userDescription": "List FluxCD image repositories and policies.",
        "canBeReferencedInPrompt": true,
        "icon": "$(file-media)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace. Empty string for all namespaces."
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseFluxKustomization",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeDiagnoseFluxKustomization",
        "displayName": "Diagnose Flux Kustomization",
        "modelDescription": "Deep diagnosis of a FluxCD Kustomization. Checks conditions, resolves source reference health, walks dependsOn chain, parses inventory, fetches events, and generates findings with suggested actions. Use when a Kustomization is failing or stalled.",
        "userDescription": "Run diagnostics on a FluxCD Kustomization.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Kustomization name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseFluxHelmRelease",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeDiagnoseFluxHelmRelease",
        "displayName": "Diagnose Flux Helm Release",
        "modelDescription": "Deep diagnosis of a FluxCD HelmRelease. Checks conditions, resolves chart and repository references, parses release history, reports remediation configuration, and fetches events. Use when a HelmRelease is failing or stuck.",
        "userDescription": "Run diagnostics on a FluxCD HelmRelease.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "HelmRelease name"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseFluxSystem",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeDiagnoseFluxSystem",
        "displayName": "Diagnose Flux System",
        "modelDescription": "Comprehensive FluxCD system health check. Checks flux-system pods, Flux CRDs, tallies health across all Kustomizations/HelmReleases/Sources, lists warning events, and generates a Mermaid topology diagram. Use when checking overall Flux health or investigating system-wide issues.",
        "userDescription": "Run system-wide FluxCD health diagnostics.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_getFluxResourceTree",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "fluxcd"
        ],
        "toolReferenceName": "kubeGetFluxResourceTree",
        "displayName": "Get Flux Resource Tree",
        "modelDescription": "Trace the dependency tree of a FluxCD resource: source -> Kustomization/HelmRelease -> dependsOn chain -> managed resources from inventory. Generates a text tree and Mermaid dependency graph. Use when understanding deployment dependencies or tracing a Flux pipeline.",
        "userDescription": "Trace the dependency tree of a FluxCD resource.",
        "canBeReferencedInPrompt": true,
        "icon": "$(type-hierarchy)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "name": {
              "type": "string",
              "description": "Resource name"
            },
            "resourceKind": {
              "type": "string",
              "description": "Kustomization or HelmRelease (default: Kustomization)"
            }
          },
          "required": [
            "namespace",
            "name"
          ]
        }
      },
      {
        "name": "kube-doctor_mapServiceTopology",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network"
        ],
        "toolReferenceName": "kubeMapServiceTopology",
        "displayName": "Map Service Topology",
        "modelDescription": "Map the full network topology for a namespace: services, backing pods, ingresses, and inter-service dependencies. Produces structured text plus a Mermaid flowchart showing Internet -> Ingresses -> Services -> Pods. Use when visualizing how traffic flows through a namespace.",
        "userDescription": "Map the network topology of services, pods, and ingresses in a namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(type-hierarchy)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace to map"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_traceIngressToBackend",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network"
        ],
        "toolReferenceName": "kubeTraceIngressToBackend",
        "displayName": "Trace Ingress to Backend",
        "modelDescription": "Trace the full request path from a hostname+path through Ingress -> Service -> Endpoints -> Pods. Checks AGIC annotations, backend service health, pod status, and metrics. Produces a layered trace report plus a Mermaid sequence diagram. Use to debug 502/503/504 errors or routing issues.",
        "userDescription": "Trace an HTTP request path from ingress through service to backend pods.",
        "canBeReferencedInPrompt": true,
        "icon": "$(debug-step-into)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "hostname": {
              "type": "string",
              "description": "Hostname to trace (e.g. api.example.com)"
            },
            "path": {
              "type": "string",
              "description": "URL path to trace (e.g. /api/v1)"
            }
          },
          "required": [
            "hostname",
            "path"
          ]
        }
      },
      {
        "name": "kube-doctor_listEndpointHealth",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network"
        ],
        "toolReferenceName": "kubeListEndpointHealth",
        "displayName": "List Endpoint Health",
        "modelDescription": "Check endpoint health for every service in a namespace. Classifies services as HEALTHY, DEGRADED (partial endpoints), or DEAD (zero ready endpoints). Use to quickly find services that cannot serve traffic.",
        "userDescription": "Check endpoint health status for all services in a namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(pulse)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_analyzeServiceConnectivity",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network"
        ],
        "toolReferenceName": "kubeAnalyzeServiceConnectivity",
        "displayName": "Analyze Service Connectivity",
        "modelDescription": "Comprehensive connectivity analysis for a specific service: existence, selector matches, endpoints, port mappings, NetworkPolicies, and Ingress exposure. Produces a connectivity report with Mermaid flowchart. Use to debug why a service is unreachable.",
        "userDescription": "Analyze connectivity and reachability for a Kubernetes service.",
        "canBeReferencedInPrompt": true,
        "icon": "$(plug)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "service_name": {
              "type": "string",
              "description": "Service name to analyze"
            }
          },
          "required": [
            "namespace",
            "service_name"
          ]
        }
      },
      {
        "name": "kube-doctor_analyzeAllIngresses",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network"
        ],
        "toolReferenceName": "kubeAnalyzeAllIngresses",
        "displayName": "Analyze All Ingresses",
        "modelDescription": "Audit every Ingress in a namespace: AGIC annotations, backend service health, TLS configuration, and conflicting host/path rules. Use for pre-deployment or post-incident ingress review.",
        "userDescription": "Audit all ingress configurations in a namespace.",
        "canBeReferencedInPrompt": true,
        "icon": "$(globe)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_checkAGICHealth",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network",
          "azure"
        ],
        "toolReferenceName": "kubeCheckAGICHealth",
        "displayName": "Check AGIC Health",
        "modelDescription": "Check health of Azure Application Gateway Ingress Controller (AGIC). Finds AGIC pods, checks status, restarts, recent logs for errors, and ConfigMap. Use when ingress routing through Azure Application Gateway is failing.",
        "userDescription": "Check Azure Application Gateway Ingress Controller health.",
        "canBeReferencedInPrompt": true,
        "icon": "$(cloud)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_analyzeResourceUsage",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "resources"
        ],
        "toolReferenceName": "kubeAnalyzeResourceUsage",
        "displayName": "Analyze Resource Usage",
        "modelDescription": "Analyze actual CPU/memory usage vs requests and limits for every pod in a namespace. Shows utilization percentages, flags over-provisioned and under-provisioned pods. Includes Mermaid chart of top consumers. Requires metrics-server.",
        "userDescription": "Compare actual pod resource usage against requests and limits.",
        "canBeReferencedInPrompt": true,
        "icon": "$(graph)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_analyzeNodeCapacity",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "resources"
        ],
        "toolReferenceName": "kubeAnalyzeNodeCapacity",
        "displayName": "Analyze Node Capacity",
        "modelDescription": "Analyze capacity, allocatable resources, actual usage, and pod counts for every node. Flags nodes over 80% utilization. Includes Mermaid bar chart of node utilization. Requires metrics-server.",
        "userDescription": "Analyze resource capacity and utilization for all cluster nodes.",
        "canBeReferencedInPrompt": true,
        "icon": "$(server)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_analyzeResourceEfficiency",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "resources"
        ],
        "toolReferenceName": "kubeAnalyzeResourceEfficiency",
        "displayName": "Analyze Resource Efficiency",
        "modelDescription": "Analyze resource efficiency cluster-wide or per namespace. Calculates waste (requests minus actual usage), efficiency percentages, and per-namespace breakdown. Use to identify over-provisioned workloads and optimize costs.",
        "userDescription": "Identify wasted resources by comparing requests to actual usage.",
        "canBeReferencedInPrompt": true,
        "icon": "$(dashboard)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace (empty for cluster-wide)"
            }
          }
        }
      },
      {
        "name": "kube-doctor_analyzeNetworkPolicies",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "network",
          "security"
        ],
        "toolReferenceName": "kubeAnalyzeNetworkPolicies",
        "displayName": "Analyze Network Policies",
        "modelDescription": "Analyze network policies in a namespace: parse selectors, ingress/egress rules, build allow/deny matrix, and identify pods not covered by any policy. Includes Mermaid flowchart showing allowed traffic flows.",
        "userDescription": "Analyze network policies and identify uncovered pods.",
        "canBeReferencedInPrompt": true,
        "icon": "$(shield)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            }
          },
          "required": [
            "namespace"
          ]
        }
      },
      {
        "name": "kube-doctor_checkDNSHealth",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "dns"
        ],
        "toolReferenceName": "kubeCheckDNSHealth",
        "displayName": "Check DNS Health",
        "modelDescription": "Check CoreDNS health: pod status in kube-system, restart counts, and log analysis for error patterns (SERVFAIL, NXDOMAIN, timeouts). Use when investigating DNS resolution failures.",
        "userDescription": "Check CoreDNS health and analyze DNS error patterns.",
        "canBeReferencedInPrompt": true,
        "icon": "$(search)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_diagnoseRequestPath",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "diagnostics",
          "network"
        ],
        "toolReferenceName": "kubeDiagnoseRequestPath",
        "displayName": "Diagnose Request Path",
        "modelDescription": "THE FLAGSHIP DIAGNOSTIC TOOL. Trace and diagnose the complete HTTP request path from hostname through Ingress -> Service -> Endpoints -> Pods. Checks health at each layer, resource usage, events. Produces findings, suggested actions, and Mermaid topology + sequence diagrams. Use for any routing, 5xx error, or connectivity issue.",
        "userDescription": "Trace and diagnose the full HTTP request path through your cluster.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "hostname": {
              "type": "string",
              "description": "Hostname to trace (e.g. api.example.com)"
            },
            "path": {
              "type": "string",
              "description": "URL path to trace (e.g. /api/v1). Default: /"
            },
            "namespace": {
              "type": "string",
              "description": "Namespace to search (empty = all namespaces)"
            }
          },
          "required": [
            "hostname"
          ]
        }
      },
      {
        "name": "kube-doctor_diagnoseService",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "diagnostics"
        ],
        "toolReferenceName": "kubeDiagnoseService",
        "displayName": "Diagnose Service",
        "modelDescription": "Comprehensive service diagnosis: endpoint health, backing pod status, resource usage, ingress exposure, network policies, events, and Mermaid topology diagram. Use when a service is not behaving as expected.",
        "userDescription": "Run comprehensive diagnostics on a Kubernetes service.",
        "canBeReferencedInPrompt": true,
        "icon": "$(stethoscope)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "service_name": {
              "type": "string",
              "description": "Service name to diagnose"
            }
          },
          "required": [
            "namespace",
            "service_name"
          ]
        }
      },
      {
        "name": "kube-doctor_clusterHealthOverview",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "diagnostics"
        ],
        "toolReferenceName": "kubeClusterHealthOverview",
        "displayName": "Cluster Health Overview",
        "modelDescription": "Comprehensive cluster health dashboard: node status with CPU/memory usage, pod health by namespace, service endpoint health, recent warning events, and Mermaid status charts. Use for a quick overall cluster health check.",
        "userDescription": "Get a comprehensive cluster health dashboard.",
        "canBeReferencedInPrompt": true,
        "icon": "$(dashboard)",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "kube-doctor_analyzeServiceLogs",
        "tags": [
          "kubernetes",
          "kube-doctor",
          "diagnostics",
          "logs"
        ],
        "toolReferenceName": "kubeAnalyzeServiceLogs",
        "displayName": "Analyze Service Logs",
        "modelDescription": "Search pod logs for a deployment for error patterns (errors, exceptions, timeouts, stack traces). Groups and counts error types with per-pod breakdown and sample matching lines. Use when investigating application errors.",
        "userDescription": "Analyze deployment pod logs for error patterns.",
        "canBeReferencedInPrompt": true,
        "icon": "$(output)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "namespace": {
              "type": "string",
              "description": "Kubernetes namespace"
            },
            "deployment_name": {
              "type": "string",
              "description": "Deployment name"
            },
            "pattern": {
              "type": "string",
              "description": "Search pattern (regex). Default: error|exception|fatal|panic|timeout|refused"
            },
            "tail_lines": {
              "type": "number",
              "description": "Lines per pod (default 200)"
            }
          },
          "required": [
            "namespace",
            "deployment_name"
          ]
        }
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "node esbuild.js",
    "watch": "node esbuild.js --watch",
    "lint": "eslint src",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.11.0",
    "@types/vscode": "^1.99.0",
    "esbuild": "^0.24.0",
    "typescript": "^5.7.0"
  },
  "dependencies": {
    "@kubernetes/client-node": "^1.0.0"
  }
}
